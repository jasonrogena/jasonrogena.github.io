<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Kannel and The Huawei E160 | do{coffee; code;} while(true)</title><link rel=canonical href=https://jasonrogena.github.io/posts/2014-01-18-kannel-and-the-huawei-e160/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Kannel and The Huawei E160"><meta property="og:description" content="I love Kannel. Everybody who&rsquo;s used It, loves It. And why wouldn&rsquo;t you? It&rsquo;s libre, it&rsquo;s open and tt&rsquo;s powerful. However, Kannel is hard to configure. Especially if Its your first time using It (let alone it being your first time using Linux). There are just too many variables you can tweak.
My Use Case As I had mentioned in another post, I used Kannel to send and receive SMSs from and Android App I&rsquo;ve been building for farmers."><meta property="og:type" content="article"><meta property="og:url" content="https://jasonrogena.github.io/posts/2014-01-18-kannel-and-the-huawei-e160/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2014-01-18T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kannel and The Huawei E160"><meta name=twitter:description content="I love Kannel. Everybody who&rsquo;s used It, loves It. And why wouldn&rsquo;t you? It&rsquo;s libre, it&rsquo;s open and tt&rsquo;s powerful. However, Kannel is hard to configure. Especially if Its your first time using It (let alone it being your first time using Linux). There are just too many variables you can tweak.
My Use Case As I had mentioned in another post, I used Kannel to send and receive SMSs from and Android App I&rsquo;ve been building for farmers."><link rel=stylesheet href=https://jasonrogena.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://jasonrogena.github.io/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/posts>All posts</a></li><li><a href=/tags>Tags</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://jasonrogena.github.io/posts/2013-12-22-sending-app-data-over-sms-on-android/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i></a></li><li><a class=icon href=https://jasonrogena.github.io/posts/2014-10-03-solr-with-mysql/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&text=Kannel%20and%20The%20Huawei%20E160" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&title=Kannel%20and%20The%20Huawei%20E160" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&is_video=false&description=Kannel%20and%20The%20Huawei%20E160" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Kannel%20and%20The%20Huawei%20E160&body=Check out this article: https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&title=Kannel%20and%20The%20Huawei%20E160" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&title=Kannel%20and%20The%20Huawei%20E160" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&name=Kannel%20and%20The%20Huawei%20E160&description=I%20love%20Kannel.%20Everybody%20who%26rsquo%3bs%20used%20It%2c%20loves%20It.%20And%20why%20wouldn%26rsquo%3bt%20you%3f%20It%26rsquo%3bs%20libre%2c%20it%26rsquo%3bs%20open%20and%20tt%26rsquo%3bs%20powerful.%20However%2c%20Kannel%20is%20hard%20to%20configure.%20Especially%20if%20Its%20your%20first%20time%20using%20It%20%28let%20alone%20it%20being%20your%20first%20time%20using%20Linux%29.%20There%20are%20just%20too%20many%20variables%20you%20can%20tweak.%0aMy%20Use%20Case%20As%20I%20had%20mentioned%20in%20another%20post%2c%20I%20used%20Kannel%20to%20send%20and%20receive%20SMSs%20from%20and%20Android%20App%20I%26rsquo%3bve%20been%20building%20for%20farmers." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&t=Kannel%20and%20The%20Huawei%20E160" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><ul><li><a href=#my-use-case>My Use Case</a></li><li><a href=#lego>Lego</a></li></ul></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Kannel and The Huawei E160</h1><div class=meta><div class=postdate><time datetime="2014-01-18 00:00:00 +0000 UTC" itemprop=datePublished>2014-01-18</time></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/kannel rel=tag>Kannel</a>
,
<a class=tag-link href=/tags/sms rel=tag>SMS</a></div></div></header><div class=content itemprop=articleBody><p>I love <a href=http://www.kannel.org>Kannel</a>. Everybody who&rsquo;s used It, loves It. And why wouldn&rsquo;t you? It&rsquo;s libre, it&rsquo;s open and tt&rsquo;s powerful. However, Kannel is hard to configure. Especially if Its your first time using It (let alone it being your first time using Linux). There are just too many variables you can tweak.</p><h3 id=my-use-case>My Use Case</h3><p>As I had mentioned in another post, I used Kannel to send and receive SMSs from and Android App I&rsquo;ve been building for farmers.</p><blockquote><p><strong>Note:</strong></p></blockquote><blockquote><ul><li>I haven&rsquo;t used Kannel in large scale. Therefore, I do not know how well it scales.</li><li>I only configured my instance of Kannel to send and receive SMSs and not MMSs. Although It is able to do that.</li></ul></blockquote><h3 id=lego>Lego</h3><p>Enough chitchat. Let&rsquo;s configure this badboy. I am assuming you have already installed Kannel (this shouldn&rsquo;t be hard).</p><h4 id=1-lock-it-up>1. Lock it up</h4><p>Enough chitchat. Let&rsquo;s configure this badboy. I am assuming you have already installed Kannel (this shouldn&rsquo;t be hard).</p><ol><li>Most modems, including the E160, have some sort of storage embedded in them (as an extra). Therefore, if you plug in such a modem it might either mount as a modem or a storage device.</li><li>If the modem mounts in &lsquo;modem mode&rsquo;, it will probably mount as two (or more) devices in /dev/. In actual sense, one of the devices is the modem&rsquo;s control port and the other is its data port.</li><li>It is not guaranteed the modem&rsquo;s data and control ports will be given the same names in /dev/.</li><li>Kannel needs to have sufficient permissions to read and write to the modem.</li></ol><p>We therefore have to find a way to make sure that; the modem always mounts in &lsquo;modem mode&rsquo; and the the modem&rsquo;s ports are always given the same names in /dev/ every time they are mounted. We can achieve this using udev rules. We also have to make sure Kannel has sufficient permissions to write to the modem&rsquo;s data port.</p><p>In Linux, udev rules are in /etc/udev/rules.d/. I already created rules for the Huawei E610 and saved them as <a href=https://github.com/jasonrogena/kannel_config/blob/master/etc/udev/rules.d/15-huawei-e1550.rules>15-huawei-e1550.rules</a>.</p><p>The first line uses <a href="https://www.archlinux.org/packages/?q=usb_modeswitch">usb_modswitch</a> to make sure that the when the modem mounts, it mounts in &lsquo;modem mode&rsquo;. The second and third line give the modem&rsquo;s two ports determinant names. Kannel will be writing into the ttyUSB_utps_pcui device.</p><p>After creating the rules and saving the file in /etc/udev/rules.d/ you would want to (re)insert the modem onto your machine. The rules should take effect immediately. You can however confirm if the have by listing what is in /dev/ to see if ttyUSB_utps_pcui and ttyUSB_utps_modem are there.</p><p>We now need to add the Kannel user to the group that owns write permissions to ttyUSB_utps_pcui. To confirm if the Kannel user exists, I ran:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cat /etc/passwd | grep kannel
</code></pre></div><p>Details of the Kannel user will show up if it actually exists.</p><p>We now need to find out which group owns write permissions to /dev/ttyUSB_utps_pcui. The following command should do the trick (the second line is the command&rsquo;s result):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ls -l /dev/ | grep ttyUSB_utps_pcui
&gt;&gt; crw-rw----  <span style=color:#ae81ff>1</span> root dialout   188,   <span style=color:#ae81ff>1</span> Jan <span style=color:#ae81ff>18</span> 12:40 ttyUSB_utps_pcui
</code></pre></div><p>In my case, the &lsquo;dialout&rsquo; group owns the ttyUSB_utps_pcui device. To add the Kannel user into the &lsquo;dialout&rsquo; group, run (as root):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>usermod -a -G dialout kannel
</code></pre></div><h4 id=2-actual-configuration>2. Actual Configuration</h4><p>We can now start the actual configuration of Kannel. All Kannel configuration files are in /etc/kannel/. In my case I have two config files; kannel.conf and modems.conf.</p><p>All configurations in Kannel fall under groups. For instance there is a group where all the settings in regards to sending of SMSs fall under. The groups that I configured are:</p><ol><li>core</li><li>smsc</li><li>smsbox</li><li>sendsms-user</li><li>sms-service</li></ol><p>You can read <a href=http://www.kannel.org/download/1.4.0/userguide-1.4.0/userguide.html>Kannel&rsquo;s documentation</a> if you require a better explanation of this groups and other groups.</p><h5 id=core-group>core Group</h5><p>The core group contains all the Kannel admin configurations. My core group looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#a6e22e>group</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>core</span>
<span style=color:#a6e22e>admin-port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>13000</span>
<span style=color:#a6e22e>smsbox-port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>13001</span>
<span style=color:#a6e22e>admin-password</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>p@ssw0rd</span>
<span style=color:#a6e22e>admin-deny-ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*.*.*.*&#34;</span>
<span style=color:#a6e22e>admin-allow-ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;127.0.0.1&#34;</span>
<span style=color:#75715e>#wapbox-port = 13002</span>
<span style=color:#75715e>#wdp-interface-name = &#34;*&#34;</span>
<span style=color:#a6e22e>log-file</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;/var/log/kannel/kannel.log&#34;</span>
<span style=color:#a6e22e>log-level</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>0</span>
<span style=color:#a6e22e>box-deny-ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*.*.*.*&#34;</span>
<span style=color:#a6e22e>box-allow-ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;127.0.0.1&#34;</span>
</code></pre></div><p>The configurations are pretty straight forward. The only things here that I think need explanation are the admin-port and the smsbox-port. At this point it is important to note that all interaction with the Kannel daemon occur using HTTP. You can now guess that the admin-port is the TCP port through which admin commands can be issued to Kannel. The smsbox-port is the TCP port through which instances of the Kannel module (called smsbox) responsible for sending SMSs connect to the core Kannel daemon (called bearerbox).</p><p>Don&rsquo;t worry, further down this post I explain how to interact with Kannel.</p><h5 id=smsc-group>smsc Group</h5><p>This group contains settings responsible for controlling the modem and Kannel&rsquo;s interaction with it. My smsc group looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#a6e22e>group</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>smsc</span>
<span style=color:#a6e22e>smsc</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>at</span>
<span style=color:#a6e22e>modemtype</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>auto</span>
<span style=color:#a6e22e>device</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>/dev/ttyUSB_utps_pcui</span>
<span style=color:#a6e22e>my-number</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>+254723572302</span>
<span style=color:#a6e22e>sms-center</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>+254722500029</span>
<span style=color:#a6e22e>connect-allow-ip</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>127.0.0.1</span>
<span style=color:#a6e22e>log-level</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>0</span>
<span style=color:#a6e22e>include</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>/etc/kannel/modems.conf</span>
</code></pre></div><p>As you can see, here is where we point Kannel to the device in which it will be talking to (check line 5). We also set the modem&rsquo;s mobile number and <a href=http://en.wikipedia.org/wiki/Short_message_service_center>SMS center</a> here. I also point Kannel to the second config file in /etc/kannel/ here. The second config file <a href=https://github.com/jasonrogena/kannel_config/blob/master/etc/kannel/modems.conf>modems.conf</a> contains the different settings for the different well known modems that will make them work well with Kannel.</p><p>You can set the log level to 0 for &lsquo;debug&rsquo;, 1 for &lsquo;info&rsquo;, 2 for &lsquo;warning, 3 for &lsquo;error&rsquo; and 4 for &lsquo;panic&rsquo; log levels depending on how you want it.</p><h5 id=smsbox-group>smsbox Group</h5><p>This group contains configurations for sending SMSs.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#a6e22e>group</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>smsbox</span>
<span style=color:#a6e22e>bearerbox-host</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>127.0.0.1</span>
<span style=color:#a6e22e>sendsms-port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>13013</span>
<span style=color:#a6e22e>global-sender</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>+254723572302</span>
<span style=color:#a6e22e>log-level</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>0</span>
</code></pre></div><p>Pretty self-explanatory, huh!?</p><p>This group contains configurations that control how users (apps) that want to send SMSs through Kannel interact with It. Mine looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#75715e>#use http://127.0.0.1:13013/cgi-bin/sendsms?username=kannel&amp;password=kannel&amp;text=inserttexthere</span>
<span style=color:#a6e22e>group</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>sendsms-user</span>
<span style=color:#a6e22e>username</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>kannel</span>
<span style=color:#a6e22e>password</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>kannel</span>
<span style=color:#a6e22e>concatenation</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
<span style=color:#a6e22e>max-messages</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>1000</span>
</code></pre></div><p>The username and password set here are the ones to be used to authenticate a user that wants to send SMSs using Kannel. If concatenation is set to true, messages that are longer that the maximum SMS length, the message will be sent as a <a href=http://en.wikipedia.org/wiki/Concatenated_SMS>concatenated SMS</a>.</p><h5 id=sms-service-group>sms-service Group</h5><p>This is a group of configurations that control how Kannel dispatches incoming SMSs to apps (users) that are expecting SMSs. You can set it that all messages from a particular number will be redirected to a certain script. My sms-service group looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#a6e22e>group</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>sms-service</span>
<span style=color:#a6e22e>keyword-regex</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>.*</span>
<span style=color:#a6e22e>catch-all</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>yes</span>
<span style=color:#a6e22e>max-messages</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>0</span>
<span style=color:#75715e>#sms-resend-retry = 0</span>
<span style=color:#a6e22e>get-url</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://localhost/~jason/ngombe_planner/WebServer/php/kannel/sms_router.php?phone=%p&amp;text=%a&#34;</span>
</code></pre></div><p>In my configuration, all incoming SMSs are redirected to a PHP script that redirects the message to other PHP scripts depending on the contents of the message. As you can see in &lsquo;get-url&rsquo; config, Kannel interacts with the PHP script by sending to it two GET variables; phone and text. The phone variable holds the sender&rsquo;s number while the text variable holds the message.</p><h4 id=3-interacting-with-kannel>3. Interacting with Kannel</h4><p>If, for instance, I wanted to see the how many SMSs Kannel has sent so far I would do something like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>curl http://127.0.0.1:13000/status
</code></pre></div><p>As I had mentioned earlier, all interaction with Kannel is done using HTTP. You will get the same results if you visited the link in the above command in a normal browser like Chrome.</p><p>There are some commands to Kannel that might require authentication. For instance:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>curl http://127.0.0.1:13000/restart?password<span style=color:#f92672>=</span>bacon
</code></pre></div><p>You also send SMSs using HTTP. This means that you can actually have a dedicated SMS server in the office/server room. All services running is other servers will be able to send SMSs by communicating with Kannel in the SMS server like this (here I&rsquo;m assuming Kannel is running on the same machine, but you already knew that):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>curl http://127.0.0.1:13013/cgi-bin/sendsms?username<span style=color:#f92672>=</span>kannel&amp;password<span style=color:#f92672>=</span>kannel&amp;text<span style=color:#f92672>=</span>I%20fucking%20love%20bacon
</code></pre></div><p>All the files I used to configure Kannel are in this <a href=https://github.com/jasonrogena/kannel_config>repo</a>.</p></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/posts>All posts</a></li><li><a href=/tags>Tags</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><ul><li><a href=#my-use-case>My Use Case</a></li><li><a href=#lego>Lego</a></li></ul></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&text=Kannel%20and%20The%20Huawei%20E160" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&title=Kannel%20and%20The%20Huawei%20E160" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&is_video=false&description=Kannel%20and%20The%20Huawei%20E160" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Kannel%20and%20The%20Huawei%20E160&body=Check out this article: https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&title=Kannel%20and%20The%20Huawei%20E160" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&title=Kannel%20and%20The%20Huawei%20E160" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&name=Kannel%20and%20The%20Huawei%20E160&description=I%20love%20Kannel.%20Everybody%20who%26rsquo%3bs%20used%20It%2c%20loves%20It.%20And%20why%20wouldn%26rsquo%3bt%20you%3f%20It%26rsquo%3bs%20libre%2c%20it%26rsquo%3bs%20open%20and%20tt%26rsquo%3bs%20powerful.%20However%2c%20Kannel%20is%20hard%20to%20configure.%20Especially%20if%20Its%20your%20first%20time%20using%20It%20%28let%20alone%20it%20being%20your%20first%20time%20using%20Linux%29.%20There%20are%20just%20too%20many%20variables%20you%20can%20tweak.%0aMy%20Use%20Case%20As%20I%20had%20mentioned%20in%20another%20post%2c%20I%20used%20Kannel%20to%20send%20and%20receive%20SMSs%20from%20and%20Android%20App%20I%26rsquo%3bve%20been%20building%20for%20farmers." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fjasonrogena.github.io%2fposts%2f2014-01-18-kannel-and-the-huawei-e160%2f&t=Kannel%20and%20The%20Huawei%20E160" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2021 Jason Rogena</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>All posts</a></li><li><a href=/tags>Tags</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script><script src=/js/code-copy.js></script></html>